<!-- source chloropleth: https://bl.ocks.org/denisemauldin/3436a3ae06f73a492228059a515821fe -->
<!-- source arrowmap: http://bl.ocks.org/Andrew-Reid/8de4b9d0d0a87a478770e0cc86e2f5e4 -->

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Chloropleth map</title>

    <!-- stylesheets -->
    <link rel="stylesheet" href="css/map.css">

    <!-- js libraries -->
    <script src="libs/d3.v5.min.js"></script>
    <script src="libs/topojson.v2.min.js"></script>
</head>

<body>
    <script>
        const studentDirectionEnum = Object.freeze({"incoming":1, "outgoing": 2});
        var studentDirection = studentDirectionEnum.incoming;
        var dispatch = d3.dispatch("stateHoverEvent", "stateSelectedEvent", "studentDirectionEvent");

        dispatch.on("stateHoverEvent", function(state){
            alert(state);
        });

        dispatch.on("stateSelectedEvent", function(state){
            alert(state);
        });

        dispatch.on("studentDirectionEvent", function(direction) {
            alert(direction);
        });
    </script>

    student direction:
    <script>
        // Direction changed
        function changedDropdownDirection() {
            let dropdown = document.getElementById("dropdown_direction");
            let dropdownValue = dropdown.value;

            dispatch.call('studentDirectionEvent', dropdownValue, dropdownValue);
        }
    </script>
    <select id="dropdown_direction" onchange="changedDropdownDirection()">
        <option value="incoming">Incoming</option>
        <option value="outgoing">Outgoing</option>
    </select>

    selected country:
    <script>
        function changedDropdownCountry() {
            let dropdown = document.getElementById("dropdown_country");
            let dropdownValue = dropdown.value;

            dispatch.call('studentDirectionEvent', dropdownValue, dropdownValue);
        }
    </script>
    <select id="dropdown_country" onchange="changedDropdownCountry()">
        <option value="cz">Czechia</option>
        <option value="sk">Slovakia</option>
        <option value="en">England</option>
        <option value="sw">Sweden</option>
        <option value="fi">Finland</option>
    </select>

    <div id="map" style="max-width: 60%; height: 400px">
       <svg width="100%" height="100%">
           <!-- the map -->
       </svg>
    </div>
    <script src="js/map.js"></script>
</body>
</html>


